<html>

<head>
	<title>Default Root</title>
	<style>
		body {
			font-family: Arial, sans-serif;
		}
		body.dark-mode {
			background-color: #333;
			color: white;
		}
		body.light-mode {
			background-color: #FFF;
			color: #333;
		}
		a {
			color: inherit;
			text-decoration: none;
		}
		a:hover {
			text-decoration: underline;
		}
		form {
			margin: 20px 0;
		}
		input[type="radio"], input[type="submit"] {
			margin-right: 10px;
		}
		input[type="submit"] {
			padding: 5px 10px;
			background-color: #007BFF;
			color: white;
			border: none;
			cursor: pointer;
		}
		input[type="submit"]:hover {
			background-color: #0056b3;
		}
		</style>
	<script>
		async function sendDeleteRequest() {



			// Send the DELETE request
			try {
				const response = await fetch(`uploads/deleteme.txt`, {
					method: 'DELETE',
				});

				if (response.ok) {
					alert('Item deleted successfully!');
				} else {
					alert('Failed to delete item.');
				}
			} catch (error) {
				console.error('Error:', error);
				alert('An error occurred while trying to delete the item.');
			}
		}

		// Function to get a cookie
		function getCookie(name) {
			var nameEQ = name + "=";
			var ca = document.cookie.split(';');
			for (var i = 0; i < ca.length; i++) {
				var c = ca[i];
				while (c.charAt(0) == ' ') c = c.substring(1, c.length);
				if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);
			}
			return null;
		}

		// Function to check and apply dark mode based on the cookie
		function loadDarkMode() {
			var darkMode = getCookie("dark_mode");
			if (darkMode == "dark") {
				document.body.classList.add("dark-mode");
				document.body.classList.remove("light-mode");
			} else {
				document.body.classList.remove("dark-mode");
				document.body.classList.add("light-mode");
			}
		}
		// Call loadDarkMode on page load
		window.onload = function () {
			loadDarkMode();
		};
	</script>

</head>

<body>
	<h1>Default Root</h1>
	<p>This is the default root page.</p>
	<p>It is displayed when no file is specified in the URL.</p>

	<h3>Here are some other pages you can visit:</h3>
	<ul>
		<li><a href="default_root_submap_no_index">Submap with no index</a></li>
		<li><a href="default_root_submap">Submap with index</a></li>
		<li><a href="default_root_submap_wrong_index">Submap with index with wrong name</a></li>
		<li><a href="doesnt-exist">This file doesn't exist, but it will give you a custom 404</a></li>
	</ul>
	<form action="http://only-post.localhost:8080/" method="POST">
		<input type="submit" value="POST to server that only accepts POST requests">
		<input type="hidden" name="data" value="This is a POST request">
	</form>
	<h3>Some more cgi action</h3>
	<ul>
		<li><a href="/php/test.phtml">Test PHP file</a></li>
		<li>
			<form id="postForm" action="/php/test.php" method="POST">
				<label for="data">Post to a php page</label><br>
				<textarea id="data" name="data" rows="4" cols="50"></textarea><br><br>
				<input type="submit" value="Submit">
			</form>
		</li>
		<li><a href="php/test.php?getvariable1=true&getvariable2=hello_there">PHP with get variables</a></li>
		<li><a href="python/testpy.py">Test python file</a></li>
		<li>
			<form id="postForm" action="python/python_post.py" method="POST">
				<label for="data">Post to a python page</label><br>
				<textarea id="data" name="data" rows="4" cols="50"></textarea><br><br>
				<input type="submit" value="Submit">
			</form>
		</li>
		<li>
			<form id="postForm" action="python-with-maxbody/python_post.py" method="POST">
				<label for="data">Post to a python with a limit of 10</label><br>
				<textarea id="data" name="data" rows="4" cols="50"></textarea><br><br>
				<input type="submit" value="Submit">
			</form>
		</li>
		<li><a href="/php/upload_test.php">Upload a file</a></li>
		<li><a href="#" onclick="sendDeleteRequest()">Delete deleteme.txt</a></li>
	</ul>
	<h3>Some cookie action</h3>
	<ul>
		<li><a href="/php/cookie_test.php">Test PHP cookie</a></li>
		<li><a href="/php/cookie_test.php?delete=true">Delete PHP cookie</a></li>
		<li><a href="/php/dark_mode.php">Set dark mode</a></li>
	</ul>

</html>